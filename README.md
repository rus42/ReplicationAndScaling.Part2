Репликация и масштабирование. Часть 2. Васёв А.В.

## Задание 1
### Опишите основные преимущества использования масштабирования методами:

1. активный master-сервер и пассивный репликационный slave-сервер

Репликация Master-Slave предполагает дублирование данных на подчиненный сервер. Дублирование производится для обеспечения отказоустойчивости и повышения производительности. На Master происходят все изменения данных, на Slave отправляются запросы чтения данных. В случае выхода из строя Master сервера его функции переключаются на Slave.

2. master-сервер и несколько slave-серверов

Преимуществом этого типа репликации является то, что можно использовать более одного Slave. Обычно следует использовать не более 20 Slave серверов при работе с одним Master. В отличии от использования одного Slave сервера при использовании нескольких повышается производительность чтения данных, отказоустойчивость, распределяется нагрузка между серверами Slave, появляется возможность тестирования новых конфигураций, версий сервера БД.

3. активный сервер со специальным механизмом репликации distributed replicated block device (DRBD)

К репликации отношения не имеет, правильнее сказать - это предоставление хранилища БД разным серверам СУБД, что то вроде RAID1. Преимуществ, как таковых, не вижу ввиду сложной перенастройки Slave сервера в случае выхода из строя Master сервера.

4. SAN-кластер

SAN - как альтернатива локально подключаемому блочному устройству, сетевое хранилище. Также как и DRBD не имеет отношения к репликации, но по сравнению с DRBD, в случае выхода из строя Master сервера, переключиться на использование этого SAN Slave сервером проще. 

## Задание 2
### Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трех таблиц:

- пользователи
- книги
- магазины (столбцы произвольно)


При вертикальном шардинге внутри БД таблицу users можно разбить на несколько шардов по user_id, таблицу shops - на несколько шардов с сортировкой по алфавиту названия города, в котором расположен магазин и, например, тип магазина, таблицу books - на несколько шардов с сортировкой по жанру книги и по алфавиту названия книг.

![alt text](https://github.com/rus42/ReplicationAndScaling.Part2/blob/main/Task_2.1.png)


При горизонтальном шардинге в отдельные БД можно вынести, например пользователей, разбив их по id и названия книг, разбив их по алфавиту. Шардировать необходимо по какому то одному признаку. Серверв БД, на которых будут размещены шарды доступны и на чтение и на запись.

![alt text](https://github.com/rus42/ReplicationAndScaling.Part2/blob/main/Task_2.2.png)

